{
    "name": "smk-clean-bc",
    "viewer": {
        "type": "leaflet",
        "location": {
            "center": [
                -124.76074218750001,
                51.876490970614775
            ],
            "extent": [
                -133.30810546875003,
                46.9052455464292,
                -116.21337890625001,
                56.353077613860826
            ],
            "zoom": 6
        },
        "esriApiKey": "AAPK76c74716cd3a48e8890531e85899d7e5PgPuOwAWPdP5X5IeNFaf26eMbjVTlVlWQiE24Uc8uf-wzHUyC8Ux2UoZut_js5xV",
        "baseMap": "Streets"
    },
    "layers": [
        {
            "type": "vector",
            "id": "evcs-stalls",
            "title": "Ministry EVCS",
            "isVisible": true,
            "isQueryable": true,
            "opacity": 0.65,
            "minScale": null,
            "maxScale": null,
            "titleAttribute": "Stall_Type",
            "attributes": [
                {
                    "id": "fid",
                    "name": "FID",
                    "title": "FID",
                    "visible": false
                },
                {
                    "id": "objectid",
                    "name": "OBJECTID",
                    "title": "OBJECTID",
                    "visible": false
                },
                {
                    "id": "bldng-id",
                    "name": "Bldng_ID",
                    "title": "Building #",
                    "visible": true
                },
                {
                    "id": "address",
                    "name": "Address",
                    "title": "Address",
                    "visible": true
                },
                {
                    "id": "city",
                    "name": "City",
                    "title": "City",
                    "visible": true
                },
                {
                    "id": "stall-type",
                    "name": "Stall_Type",
                    "title": "Stall Type",
                    "visible": true
                },
                {
                    "id": "fleet-ev",
                    "name": "Fleet_EV",
                    "title": "Fleet EV",
                    "visible": true
                },
                {
                    "id": "emvi-ev",
                    "name": "EmVi_EV",
                    "title": "EmVi EV",
                    "visible": true
                }
            ],
            "queries": null,
            "useClustering": false,
            "dataUrl": "./layers/evcs-stalls.geojson",
            "legend": {
                "point": true
            },
            "style": {
                "strokeColor": "#0000ff",
                "strokeOpacity": 1,
                "strokeWidth": 6,
                "strokeCap": "round",
                "strokeJoin": "round",
                "fill": true,
                "fillColor": "#0000ff",
                "fillOpacity": 1,
                "stroke": true,
                "marker": true,
                "markerUrl": null
            }, 
            "conditionalStyles": [
                {
                    "property": "Stall_Type",
                    "conditions": [
                        {
                            "value": "EmVi Stall",
                            "style": {
                                "strokeColor": "#0000ff",
                                "fillColor": "#0000ff"
                            }
                        },
                        {
                            "value": "Fleet EV Stall",
                            "style": {
                                "strokeColor": "#00ff00",
                                "fillColor": "#00ff00"
                            }
                        }
                    ]
                }
            ]
        },
        {
            "type": "vector",
            "id": "rpd-buildings",
            "title": "RPD Buildings",
            "isVisible": true,
            "isQueryable": true,
            "opacity": 0.65,
            "minScale": null,
            "maxScale": null,
            "titleAttribute": "Bldng_ID",
            "attributes": [
                {
                    "id": "fid",
                    "name": "FID",
                    "title": "FID",
                    "visible": false
                },
                {
                    "id": "bldng-id",
                    "name": "Bldng_ID",
                    "title": "Building #",
                    "visible": true
                },
                {
                    "id": "bldng-type",
                    "name": "Bldng_Type",
                    "title": "Building Type",
                    "visible": true
                },
                {
                    "id": "address",
                    "name": "Address",
                    "title": "Address",
                    "visible": true
                },
                {
                    "id": "city",
                    "name": "City",
                    "title": "City",
                    "visible": true
                }
            ],
            "queries": null,
            "useClustering": false,
            "dataUrl": "./layers/rpd-buildings.geojson",
            "legend": {
                "point": true
            },
            "style": {
                "strokeColor": "#1b9e77",
                "strokeOpacity": 1,
                "strokeWidth": 6,
                "strokeCap": "round",
                "strokeJoin": "round",
                "fill": true,
                "fillColor": "#1b9e77",
                "fillOpacity": 1
            }
        },
        {
            "type": "esri-feature",
            "id": "EV_Stations_Canada",
            "isVisible": true,
            "title": "Electric Charging Stations in Canada",
            "serviceUrl": "https://services.arcgis.com/zmLUiqh7X11gGV2d/arcgis/rest/services/alt_fuel_stations/FeatureServer/0",
            "where": "access_code='public'",
            "hideLegends": [ 
                "private"
            ],
            "titleAttribute": "Station_Name",
            "attributes": [
                {
                    "name": "GoogleMapsDirections",
                    "title": "Google Maps Directions",
                    "visible": true,
                    "format": "asLink('https://www.google.com/maps/dir//' + this.feature.geometry.coordinates[1] + ',' + this.feature.geometry.coordinates[0])"
                },
                {
                    "id": "station_name",
                    "name": "Station_Name",
                    "title": "Station Name",
                    "visible": true
                },
                {
                    "id": "street_address",
                    "name": "Street_Address",
                    "title": "Street Address",
                    "visible": true
                },
                {
                    "id": "intersection_directions",
                    "name": "Intersection_Directions",
                    "title": "Intersection Directions",
                    "visible": true
                },
                {
                    "id": "intersection_directions__french",
                    "name": "Intersection_Directions__French",
                    "title": "Intersection Directions - French",
                    "visible": true
                },
                {
                    "id": "city",
                    "name": "City",
                    "title": "City",
                    "visible": true
                },
                {
                    "id": "state",
                    "name": "State",
                    "title": "State",
                    "visible": true
                },
                {
                    "id": "zip",
                    "name": "ZIP",
                    "title": "ZIP",
                    "visible": true
                },
                {
                    "id": "plus4",
                    "name": "Plus4",
                    "title": "Plus4",
                    "visible": true
                },
                {
                    "id": "station_phone",
                    "name": "Station_Phone",
                    "title": "Station Phone",
                    "visible": true
                },
                {
                    "id": "status_code",
                    "name": "Status_Code",
                    "title": "Status Code",
                    "visible": true
                },
                {
                    "id": "expected_date",
                    "name": "Expected_Date",
                    "title": "Expected Date",
                    "visible": true
                },
                {
                    "id": "groups_with_access_code",
                    "name": "Groups_With_Access_Code",
                    "title": "Groups With Access Code",
                    "visible": true
                },
                {
                    "id": "groups_with_access_code__french",
                    "name": "Groups_With_Access_Code__French",
                    "title": "Groups With Access Code - French",
                    "visible": true
                },
                {
                    "id": "access_days_time",
                    "name": "Access_Days_Time",
                    "title": "Access Days Time",
                    "visible": true
                },
                {
                    "id": "access_days_time__french_",
                    "name": "Access_Days_Time__French_",
                    "title": "Access Days Time - French",
                    "visible": true
                },
                {
                    "id": "cards_accepted",
                    "name": "Cards_Accepted",
                    "title": "Cards Accepted",
                    "visible": true
                },
                {
                    "id": "bd_blends",
                    "name": "BD_Blends",
                    "title": "BD Blends",
                    "visible": true
                },
                {
                    "id": "bd_blends__french_",
                    "name": "BD_Blends__French_",
                    "title": "BD Blends - French",
                    "visible": true
                },
                {
                    "id": "ng_fill_type_code",
                    "name": "NG_Fill_Type_Code",
                    "title": "NG Fill Type Code",
                    "visible": true
                },
                {
                    "id": "ng_psi",
                    "name": "NG_PSI",
                    "title": "NG PSI",
                    "visible": true
                },
                {
                    "id": "ev_level1_evse_num",
                    "name": "EV_Level1_EVSE_Num",
                    "title": "EV Level1 EVSE Num",
                    "visible": true
                },
                {
                    "id": "ev_level2_evse_num",
                    "name": "EV_Level2_EVSE_Num",
                    "title": "EV Level2 EVSE Num",
                    "visible": true
                },
                {
                    "id": "ev_dc_fast_count",
                    "name": "EV_DC_Fast_Count",
                    "title": "EV DC Fast Count",
                    "visible": true
                },
                {
                    "id": "ev_other_info",
                    "name": "EV_Other_Info",
                    "title": "EV Other Info",
                    "visible": true
                },
                {
                    "id": "ev_network",
                    "name": "EV_Network",
                    "title": "EV Network",
                    "visible": true,
                    "format": "asLink(this.feature.properties.EV_Network_Web)"
                },
                {
                    "id": "geocode_status",
                    "name": "Geocode_Status",
                    "title": "Geocode Status",
                    "visible": true
                },
                {
                    "id": "latitude",
                    "name": "Latitude",
                    "title": "Latitude",
                    "visible": true
                },
                {
                    "id": "longitude",
                    "name": "Longitude",
                    "title": "Longitude",
                    "visible": true
                },
                {
                    "id": "date_last_confirmed",
                    "name": "Date_Last_Confirmed",
                    "title": "Date Last Confirmed",
                    "visible": true
                },
                {
                    "id": "id",
                    "name": "ID",
                    "title": "ID",
                    "visible": true
                },
                {
                    "id": "updated_at",
                    "name": "Updated_At",
                    "title": "Updated At",
                    "visible": true
                },
                {
                    "id": "owner_type_code",
                    "name": "Owner_Type_Code",
                    "title": "Owner Type Code",
                    "visible": true
                },
                {
                    "id": "federal_agency_id",
                    "name": "Federal_Agency_ID",
                    "title": "Federal Agency ID",
                    "visible": true
                },
                {
                    "id": "federal_agency_name",
                    "name": "Federal_Agency_Name",
                    "title": "Federal Agency Name",
                    "visible": true
                },
                {
                    "id": "open_date",
                    "name": "Open_Date",
                    "title": "Open Date",
                    "visible": true
                },
                {
                    "id": "hydrogen_status_link",
                    "name": "Hydrogen_Status_Link",
                    "title": "Hydrogen Status Link",
                    "visible": true
                },
                {
                    "id": "ng_vehicle_class",
                    "name": "NG_Vehicle_Class",
                    "title": "NG Vehicle Class",
                    "visible": true
                },
                {
                    "id": "lpg_primary",
                    "name": "LPG_Primary",
                    "title": "LPG Primary",
                    "visible": true
                },
                {
                    "id": "e85_blender_pump",
                    "name": "E85_Blender_Pump",
                    "title": "E85 Blender Pump",
                    "visible": true
                },
                {
                    "id": "ev_connector_types",
                    "name": "EV_Connector_Types",
                    "title": "EV Connector Types",
                    "visible": true
                },
                {
                    "id": "country",
                    "name": "Country",
                    "title": "Country",
                    "visible": true
                },
                {
                    "id": "hydrogen_is_retail",
                    "name": "Hydrogen_Is_Retail",
                    "title": "Hydrogen Is Retail",
                    "visible": true
                },
                {
                    "id": "access_detail_code",
                    "name": "Access_Detail_Code",
                    "title": "Access Detail Code",
                    "visible": true
                },
                {
                    "id": "federal_agency_code",
                    "name": "Federal_Agency_Code",
                    "title": "Federal Agency Code",
                    "visible": true
                },
                {
                    "id": "facility_type",
                    "name": "Facility_Type",
                    "title": "Facility Type",
                    "visible": true
                },
                {
                    "id": "cng_dispenser_num",
                    "name": "CNG_Dispenser_Num",
                    "title": "CNG Dispenser Num",
                    "visible": true
                },
                {
                    "id": "cng_on_site_renewable_source",
                    "name": "CNG_On_Site_Renewable_Source",
                    "title": "CNG On Site Renewable Source",
                    "visible": true
                },
                {
                    "id": "cng_total_compression_capacity",
                    "name": "CNG_Total_Compression_Capacity",
                    "title": "CNG Total Compression Capacity",
                    "visible": true
                },
                {
                    "id": "cng_storage_capacity",
                    "name": "CNG_Storage_Capacity",
                    "title": "CNG Storage Capacity",
                    "visible": true
                },
                {
                    "id": "lng_on_site_renewable_source",
                    "name": "LNG_On_Site_Renewable_Source",
                    "title": "LNG On Site Renewable Source",
                    "visible": true
                },
                {
                    "id": "e85_other_ethanol_blends",
                    "name": "E85_Other_Ethanol_Blends",
                    "title": "E85 Other Ethanol Blends",
                    "visible": true
                },
                {
                    "id": "ev_pricing",
                    "name": "EV_Pricing",
                    "title": "EV Pricing",
                    "visible": true
                },
                {
                    "id": "ev_pricing__french_",
                    "name": "EV_Pricing__French_",
                    "title": "EV Pricing - French",
                    "visible": true
                },
                {
                    "id": "lpg_nozzle_types",
                    "name": "LPG_Nozzle_Types",
                    "title": "LPG Nozzle Types",
                    "visible": true
                },
                {
                    "id": "hydrogen_pressures",
                    "name": "Hydrogen_Pressures",
                    "title": "Hydrogen Pressures",
                    "visible": true
                },
                {
                    "id": "hydrogen_standards",
                    "name": "Hydrogen_Standards",
                    "title": "Hydrogen Standards",
                    "visible": true
                },
                {
                    "id": "cng_fill_type_code",
                    "name": "CNG_Fill_Type_Code",
                    "title": "CNG Fill Type Code",
                    "visible": true
                },
                {
                    "id": "cng_psi",
                    "name": "CNG_PSI",
                    "title": "CNG PSI",
                    "visible": true
                },
                {
                    "id": "cng_vehicle_class",
                    "name": "CNG_Vehicle_Class",
                    "title": "CNG Vehicle Class",
                    "visible": true
                },
                {
                    "id": "lng_vehicle_class",
                    "name": "LNG_Vehicle_Class",
                    "title": "LNG Vehicle Class",
                    "visible": true
                },
                {
                    "id": "ev_on_site_renewable_source",
                    "name": "EV_On_Site_Renewable_Source",
                    "title": "EV On Site Renewable Source",
                    "visible": true
                },
                {
                    "id": "restricted_access",
                    "name": "Restricted_Access",
                    "title": "Restricted Access",
                    "visible": true
                },
                {
                    "id": "fid",
                    "name": "FID",
                    "title": "FID",
                    "visible": false
                }
            ]
        }
    ],
    "tools": [
        {
            "type": "toolbar",
            "enabled": true
        },
        {
            "type": "list-menu",
            "enabled": true,
            "title": "Clean BC"
        },
        {
            "type": "pan",
            "enabled": true
        },
        {
            "type": "zoom",
            "enabled": true
        },
        {
            "order": 1,
            "position": "list-menu",
            "icon": "help",
            "title": "About Clean BC",
            "content": "<p>The CleanBC Route Planner (CBRP) is intended to be an interactive, easy-to-understand trip-planning application for Fleet Vehicles within RPD. The web application's key features are the ability to see RPD properties and Ministry Electric Vehicle Charging Stations (EVCS), along with public charging stations and to plan your route accordingly. It is intended to augment, rather than replace, existing regional and municipal maps and trip planning tools.</p>",
            "type": "about",
            "enabled": true
        },
        {
            "order": 3,
            "position": [
                "shortcut-menu",
                "list-menu"
            ],
            "icon": "layers",
            "title": "Layers",
            "command": {
                "allVisibility": true,
                "filter": true,
                "legend": true
            },
            "glyph": {
                "visible": "visibility",
                "hidden": "visibility_off"
            },
            "type": "layers",
            "enabled": true,
            "display": [
                {
                    "id": "evcs-stalls",
                    "isVisible": true
                },
                {
                    "id": "rpd-buildings",
                    "isVisible": true
                },
                {
                    "id": "EV_Stations_Canada"
                }
            ]
        },
        {
            "type": "baseMaps",
            "enabled": true
        },
        {
            "type": "identify",
            "enabled": true,
            "showPanel": true,
            "showWidget": true,
            "style": {
                "strokeWidth": 1,
                "strokeStyle": "1, 1",
                "strokeColor": "#000000",
                "strokeOpacity": 0.8,
                "fillColor": "#000000",
                "fillOpacity": 0.5,
                "markerSize": [
                    20,
                    20
                ],
                "markerOffset": [
                    10,
                    0
                ]
            }
        },
        {
            "type": "search",
            "enabled": true
        },
        {
            "type": "coordinate",
            "enabled": true
        },
        {
            "type": "measure",
            "enabled": false
        },
        {
            "type": "markup",
            "enabled": false
        },
        {
            "type": "scale",
            "enabled": false
        },
        {
            "type": "minimap",
            "enabled": false
        },
        {
            "type": "directions",
            "enabled": true,
            "command": {
                "optimal": false,
                "vehicleType": false
            },
            "criteria": "fastest",
            "routePlannerService": {
                "url": "https://router.api.gov.bc.ca/"
            },
            "geocoderService": {
                "url": "https://geocoder.api.gov.bc.ca/",
                "parameter": {
                    "maxDistance": 50,
                    "locationMode": "input",
                    "brief": false,
                    "minScore": 50,
                    "echo": true
                }
            }
        },
        {
            "type": "location",
            "enabled": false
        },
        {
            "type": "select",
            "enabled": false
        },
        {
            "type": "geomark",
            "geomarkService": {
                "url": "https://apps.gov.bc.ca/pub/geomark"
            },
            "position": "list-menu",
            "enabled": false
        },
        {
            "type": "legend",
            "enabled": true
        },
        {
            "order": 1,
            "position": "list-menu",
            "icon": "help",
            "title": "How to use the Route Planner",
            "useComponent": true,
            "component": {
                "template": "<p>First, click on the Route Planner heading, enter an address or click directly on the map. Continue entering additional waypoints, which you can click and drag to update your route, or the start and end points. You can further augment this by clicking on the settings in the upper right corner of the route planner and choosing from the one-way or round-trip option and the shortest or fastest route option. After you have completed your stops, click See Route Details to receive turn-by-turn instructions, or you can Print these instructions for ease of use.</p><p>Please note most trips are generally 200 km round trip, which is well within the range of most EVs when starting with a full battery charge. If you will be going on a more extended trip (over 200 km total) or the EV battery is not fully charged, it is recommended that you review your EV's range information and plan the best place to stop for a mid-route charge if necessary. For additional information on public charging stations, including availability: BC Hydro, PlugShare.com and ChargeHub.com are helpful resources.</p>"
            },
            "type": "bespoke",
            "instance": "101",
            "enabled": true
        }
    ],
    "version": "1.1.1",
    "createdBy": "DataBC Map Team",
    "createdDate": "2022-11-07T23:57:27.366Z"
}